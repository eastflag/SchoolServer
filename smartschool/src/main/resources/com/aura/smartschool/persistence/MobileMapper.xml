<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.aura.smartschool.persistence.MobileMapper">

<select id="signIn" parameterType="Mobile" resultType="Integer">
	SELECT count(*) FROM mobile
	WHERE mdn=#{mdn} and home_id=#{home_id};
</select>

<select id="getFamaily" parameterType="Mobile" resultType="Mobile">
	SELECT * FROM mobile
	WHERE home_id=#{home_id};
</select>
	
<insert id="insertHome" parameterType="Home" useGeneratedKeys="true" keyProperty="home_id">
	INSERT INTO home() values();
</insert>

<insert id="insertMobile" parameterType="Mobile">
	INSERT INTO mobile(home_id, mdn, is_parent) values(#{home_id}, #{mdn}, #{is_parent});
</insert>

</mapper>