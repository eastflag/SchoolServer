<div ng-controller="ChallengeCtrl">
	<div class="row">
		<div class="col-lg-12">
			<h3 class="page-header">도전!건강! 관리</h3>
		</div>
	</div>

	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-info">
				<div class="panel-heading">
					<i class="fa fa-list fa-lg"></i> 도전!건강! Top5
				</div>
				<table class="table table-striped">
					<colgroup span="5">
						<col width="20%" />
						<col width="10%" />
						<col width="*" />
						<col width="15%" />
						<col width="15%" />
					</colgroup>
					<thead>
						<tr>
							<td>편집</td>
							<td>순위</td>
							<td>제목</td>
							<td>이름</td>
							<td>등록일자</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="challenge in challengesTop5">
							<td>
								<button class="btn btn-default btn-xs" ng-click="releaseChallengeRank(challenge)">
									<span class="glyphicon glyphicon-pencil"></span> 순위해제
								</button>
							</td>
							<td>{{challenge.rank}} 순위</td>
							<td>{{challenge.title}}</td>
							<td>{{challenge.member_name}}</td>
							<td>{{challenge.created | date : 'yyyy-MM-dd'}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	
	<hr />

	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-info">
				<div class="panel-heading">
					<i class="fa fa-list fa-lg"></i> 도전!건강! 목록[순위없음]
				</div>
				<table class="table table-striped">
					<colgroup span="5">
						<col width="20%" />
						<col width="*" />
						<col width="15%" />
						<col width="15%" />
					</colgroup>
					<thead>
						<tr>
							<td>편집</td>
							<td>제목</td>
							<td>이름</td>
							<td>등록일자</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="challenge in challenges">
							<td>
								<button class="btn btn-default btn-xs" ng-click="viewChallenge(challenge)">
									<span class="glyphicon glyphicon-pencil"></span> 순위설정
								</button>
							</td>
							<td>{{challenge.title}}</td>
							<td>{{challenge.member_name}}</td>
							<td>{{challenge.created | date : 'yyyy-MM-dd'}}</td>
						</tr>
						<tr>
							<td colspan="4" style="text-align:center">
								<uib-pagination boundary-links="true" total-items="totalCount" ng-model="currentPage" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" ng-change="pageChange()"></uib-pagination>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	
	<hr />
	
	<div class="row" ng-show=" mode == 'view' ">
		<div class="col-lg-12">
			<div class="panel panel-info">
				<div class="panel-heading">
					<i class="fa fa-edit fa-lg"></i> 순위설정
				</div>
				<div class="panel-body">
					<form class="form-horizontal">
						<div class="form-group">
							<label for="titleText" class="col-sm-2 control-label">응모자</label>
							<div class="col-sm-10">{{name}}</div>
						</div>
						<div class="form-group">
							<label for="titleText" class="col-sm-2 control-label">제목</label>
							<div class="col-sm-10">{{title}}</div>
						</div>
						<div class="form-group">
							<label for="titleText" class="col-sm-2 control-label">내용</label>
							<div class="col-sm-10">{{content}}</div>
						</div>
						<div class="form-group" ng-repeat="row in imgs">
							<label for="noti_dateText" class="col-sm-2 control-label" ng-show="row.img != null">이미지 {{row.code}}</label>
							<div class="col-sm-10" ng-show="row.img != null">
								<img ng-src="{{row.img}}" />
							</div>
						</div>
						<div class="form-group">
							<label for="titleText" class="col-sm-2 control-label">순위</label>
							<div class="col-sm-10">
								<select class="form-control" ng-model="rank">
									<option value="">Select Rank-------</option>
									<option value="{{num}}" ng-repeat="num in [1,2,3,4,5]">{{num}}</option>
								</select>
							</div>
						</div>
					</form> 
					<div class="row">
						<div class="col-lg-12">
							<button type="button" ng-click="setupChallengeRank()" class="btn btn-info btn-block" ng-class="{disabled : mode != 'view'}"><i class="fa fa-save fa-lg"></i> Save</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>